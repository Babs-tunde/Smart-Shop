
{% extends 'base.html' %}

{% block content %}
<div>
<!-- <form method="post">
    {% csrf_token %}
    <label for="customer_name">Customer Name:</label>
    <input type="text" id="customer_name" name="customer_name">
    <br>
    <label for="customer_address">Customer Address:</label>
    <textarea id="customer_address" name="customer_address"></textarea>
    <br>
    <label for="date">Date:</label>
    <input type="date" id="date" name="date">
    <br>
    <label for="phone">Phone:</label>
    <select id="phone" name="phone">
      {% for phone in phones %}
        <option value="{{ phone.id }}">{{ phone.name }}</option>
      {% endfor %}
    </select>
    <br>
    <label for="quantity">Quantity:</label>
    <input type="number" id="quantity" name="quantity">
    <br>
    <input type="submit" value="Create Invoice">
  </form> -->

  <!-- create_invoice.html -->
<form method="post">
  {% csrf_token %}
  <h2>Invoice</h2>
  <label for="customer_name">Customer Name:</label>
  <input type="text" id="customer_name" name="customer_name">
  <br>
  <label for="customer_address">Customer Address:</label>
  <textarea id="customer_address" name="customer_address"></textarea>
  <br>
  <label for="date">Date:</label>
  <input type="date" id="date" name="date">
  <br>
  <table id="phone-table">
    <tr>
      <th>Phone</th>
      <th>Quantity</th>
      <th>Price</th>
    </tr>
    <tr>
      <td>
        <select name="phone">
          {% for phone in phones %}
            <option value="{{ phone.id }}">{{ phone.name }}</option>
          {% endfor %}
        </select>
      </td>
      <td><input type="number" name="quantity"></td>
      <td>${{ phone.price }}</td>
    </tr>
    <tr>
      <td colspan="2"><button type="button" onclick="addPhone()">Add Phone</button></td>
      <td>Total: ${{ total_amount }}</td>
    </tr>
  </table>
  <input type="submit" value="Create Invoice">
</form>
</div>


Copy code
<script>
  function addPhone() {
    var table = document.getElementById("phone-table");
    var row = table.insertRow();
    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1);
    var cell3 = row.insertCell(2);
    var select = document.createElement("select");
    select.name = "phone";

    {% for phone in phones %}
    var option = document.createElement("option");
    option.value = "{{ phone.id }}";
    option.text = "{{ phone.name }}";
    select.appendChild(option);
    {% endfor %}

    var quantity = document.createElement("input");
    quantity.type = "number";
    quantity.name = "quantity";

    var price = document.createElement("span");
    price.innerHTML = "{{ phone.price }}";

    cell1.appendChild(select);
    cell2.appendChild(quantity);
    cell3.appendChild(price);
  }
</script>
  {% endblock %}